require('dotenv').config();

function mapPresence(val) {
    const mapping = {
        typing: 'composing',
        online: 'available',
        recording: 'recording',
        paused: 'paused',
        offline: 'unavailable'
    };
    return mapping[val?.toLowerCase()?.trim()] || 'paused';
}

module.exports = {
    prefixes: process.env.PREFIX
        ? process.env.PREFIX.split(',').map(p => p.trim())
        : [''],

    NUMBER: process.env.YOUR_NUMBER || '243977675335',
    MODE: (process.env.MODE || 'private').toLowerCase().trim(),
    WARN_LIMIT: process.env.WARNINGS || '3',
    ON: process.env.YOUR_NAME || 'FLASH-MD',
    ANTICALL: process.env.ANTICALL || 'off',
    ADM: process.env.ANTIDELETE || 'on',
    AR: process.env.AUTO_REACTION || 'off',

    AUTO_VIEW_STATUS: process.env.AUTO_READ_STATUS === 'off',
    AUTO_LIKE: process.env.AUTO_LIKE === 'off',
    AUTO_READ_MESSAGES: process.env.AUTO_READ_DM === 'off',
    HEROKU_API_KEY: process.env.HEROKU_API_KEY,
    HEROKU_APP_NAME: process.env.HEROKU_APP_NAME,
    sessionBase64: process.env.SESSION || 'eyJub2lzZUtleSI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiY005b09ITHVyQlowUHAzRS8rcFFkaXg1amdremZ0aVROYlBIN1I2YzlFUT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiWGFjaWVmaURIYm91bUM3dnU0SFI1WDk0KzBlcnVlekEwY2lCcThQQ3AwQT0ifX0sInBhaXJpbmdFcGhlbWVyYWxLZXlQYWlyIjp7InByaXZhdGUiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJrTHdxbDVmZndrcWdLWklUTDAzNUtOZWhVR0FsRXVFSWZMVGlKQ25mSDBRPSJ9LCJwdWJsaWMiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJ0MXhFYjcxNGNiTG9OTjdrUDdFdmdVd1VUWExHNHk1ZW52aEduY3NFWDFvPSJ9fSwic2lnbmVkSWRlbnRpdHlLZXkiOnsicHJpdmF0ZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IjhDTkRhMlJ1MUh6aEF6NXUvSGU4V0ZaMmNYOUlINlhtZnV0UTViSkx3MjA9In0sInB1YmxpYyI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IlIwY25SQm56L052amxxOEVpSTB6RTFXb0xaa0pxQ0huWm9CZ09lWkJXaFk9In19LCJzaWduZWRQcmVLZXkiOnsia2V5UGFpciI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiaUdDSm1JVEc0WHVLRTF2NHdqbjlFUnQ4azl4bGtYdDA0S0dtZTNBcm9YQT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoicFVURHp3NHFoaDBTZ0FIQXR5NWxWU01IOFZseVVNcDh0RHBLaEtPNmpHbz0ifX0sInNpZ25hdHVyZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6InFIdEZkUkpvQUNpYlJIMWRtN3dYSmRnekJrTmVKbkNUT3BPN1kyTFVlV1daUmpsYUZjUCtQTldjWG5IRUVCaVgzMkxUTUZlZUVDdGhQY1BrUDA4VWl3PT0ifSwia2V5SWQiOjF9LCJyZWdpc3RyYXRpb25JZCI6NTksImFkdlNlY3JldEtleSI6IkI5N0pFSnM1ei9IblhxNHFaeldnUjVFeFN5YVllbGc3TkJkRzRPUG1lcVE9IiwicHJvY2Vzc2VkSGlzdG9yeU1lc3NhZ2VzIjpbeyJrZXkiOnsicmVtb3RlSmlkIjoiMjQzOTc3Njc1MzM1QHMud2hhdHNhcHAubmV0IiwiZnJvbU1lIjp0cnVlLCJpZCI6IjY1NDc2ODlFMDBEMzI4RjAwRkUyNEI3OEE4NDcxRDJBIn0sIm1lc3NhZ2VUaW1lc3RhbXAiOjE3NTg3ODc5Mjh9LHsia2V5Ijp7InJlbW90ZUppZCI6IjI0Mzk3NzY3NTMzNUBzLndoYXRzYXBwLm5ldCIsImZyb21NZSI6dHJ1ZSwiaWQiOiIyODM1MjIwNjY2MTY1NDg0MTczRUM5Njg1QjU0QzY0NSJ9LCJtZXNzYWdlVGltZXN0YW1wIjoxNzU4Nzg3OTI4fSx7ImtleSI6eyJyZW1vdGVKaWQiOiIyNDM5Nzc2NzUzMzVAcy53aGF0c2FwcC5uZXQiLCJmcm9tTWUiOnRydWUsImlkIjoiMURDNENBOEU4RkM0NjRFNjM3MDUxQjc2MDAxOTQ4RTMifSwibWVzc2FnZVRpbWVzdGFtcCI6MTc1ODc4Nzk0Nn0seyJrZXkiOnsicmVtb3RlSmlkIjoiMjQzOTc3Njc1MzM1QHMud2hhdHNhcHAubmV0IiwiZnJvbU1lIjp0cnVlLCJpZCI6IkIwMUI1RDcxMDQ0NkYxRkVDMjNDQTM0QzA1MDQyQzZDIn0sIm1lc3NhZ2VUaW1lc3RhbXAiOjE3NTg3ODc5NjF9LHsia2V5Ijp7InJlbW90ZUppZCI6IjI0Mzk3NzY3NTMzNUBzLndoYXRzYXBwLm5ldCIsImZyb21NZSI6dHJ1ZSwiaWQiOiI2OTAyNjU4NzI5QTg2OTNBNjg0RUQ1QjVEQTQ1RTcyQSJ9LCJtZXNzYWdlVGltZXN0YW1wIjoxNzU4Nzg3OTY0fV0sIm5leHRQcmVLZXlJZCI6MzEsImZpcnN0VW51cGxvYWRlZFByZUtleUlkIjozMSwiYWNjb3VudFN5bmNDb3VudGVyIjoxLCJhY2NvdW50U2V0dGluZ3MiOnsidW5hcmNoaXZlQ2hhdHMiOmZhbHNlfSwicmVnaXN0ZXJlZCI6dHJ1ZSwicGFpcmluZ0NvZGUiOiJCWEdLUFpDOCIsIm1lIjp7ImlkIjoiMjQzOTc3Njc1MzM1OjE2QHMud2hhdHNhcHAubmV0IiwibGlkIjoiNDMxNTY0NTIyMDA2NjI6MTZAbGlkIiwibmFtZSI6Ikxvc3RvIFBhdWwifSwiYWNjb3VudCI6eyJkZXRhaWxzIjoiQ0tiV3g3RUJFTUx5MDhZR0dBY2dBQ2dBIiwiYWNjb3VudFNpZ25hdHVyZUtleSI6IlJJTGxuSEhUL0lkcXAxbXdRVk5vUllYMXpaekpNTElvMzg3WTVCUTI5QzA9IiwiYWNjb3VudFNpZ25hdHVyZSI6IlpaWTVoWkJCVjJBRFRlbENiK1hJRGxTVVdUc2JHVld4NWhJNFlWODFDZ01jT0o4T25UUEhVcUcrcWFqbVRNYXFxR01DV1dENklTaFlSMVpzUjZvSUJRPT0iLCJkZXZpY2VTaWduYXR1cmUiOiJWRGdHK3NQWjBHWTNydFhPU2ZwL0pRYW1jeHJHZCtqNWI2UGxjY210b0ZJOHZpSHRzZU1LRzRyVFRCa0EzdERmQW1NUGJZVjF3RjZmZFBPbXIwOHVnQT09In0sInNpZ25hbElkZW50aXRpZXMiOlt7ImlkZW50aWZpZXIiOnsibmFtZSI6IjI0Mzk3NzY3NTMzNToxNkBzLndoYXRzYXBwLm5ldCIsImRldmljZUlkIjowfSwiaWRlbnRpZmllcktleSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkJVU0M1Wnh4MC95SGFxZFpzRUZUYUVXRjljMmN5VEN5S04vTzJPUVVOdlF0In19XSwicGxhdGZvcm0iOiJhbmRyb2lkIiwicm91dGluZ0luZm8iOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJDQVVJRFE9PSJ9LCJsYXN0QWNjb3VudFN5bmNUaW1lc3RhbXAiOjE3NTg3ODc5MTksImxhc3RQcm9wSGFzaCI6IjJQMVloZiIsIm15QXBwU3RhdGVLZXlJZCI6IkFBQUFBQzdlIn0=',
    timezone: 'Africa/Nairobi',

    USER_LID: process.env.43156452200662, 

    PRESENCE_DM: mapPresence(process.env.PRESENCE_DM || 'typing'),
    PRESENCE_GROUP: mapPresence(process.env.PRESENCE_GROUP || 'recording'),

    mapPresence
};
